{"version":3,"sources":["Carousel.js","Modal.js","Details.js"],"names":["Carousel","props","handleIndexClick","bind","state","photos","active","event","setState","target","dataset","index","value","map","photo","media","filter","React","Component","modalRoot","document","getElementById","Modal","el","createElement","appendChild","removeChild","children","petfinder","key","secret","Details","toggleModal","loading","showModal","pet","get","output","id","then","data","breed","Array","isArray","breeds","join","name","animal","location","contact","city","description","catch","err","error"],"mappings":"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","file":"Details.180b8e97.map","sourceRoot":"..\\src","sourcesContent":["import React from \"react\";\r\n\r\nclass Carousel extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleIndexClick = this.handleIndexClick.bind(this);\r\n\r\n    this.state = {\r\n      photos: [],\r\n      active: 0\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps({ media }) {\r\n    let photos = [];\r\n\r\n    if (media && media.photos && media.photos.photo) {\r\n      photos = media.photos.photo.filter(photo => photo[\"@size\"] === \"pn\");\r\n    }\r\n\r\n    return { photos };\r\n  }\r\n\r\n  handleIndexClick(event) {\r\n    this.setState({\r\n      active: +event.target.dataset.index\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { photos, active } = this.state;\r\n    return (\r\n      <div className=\"carousel\">\r\n        <img src={photos[active].value} alt=\"animal\" />\r\n        <div className=\"carousel-smaller\">\r\n          {photos.map((photo, index) => (\r\n            /* eslint-disable-next-line */\r\n            <img\r\n              onClick={this.handleIndexClick}\r\n              key={photo.value}\r\n              data-index={index}\r\n              src={photo.value}\r\n              className={index === active ? \"active\" : \"\"}\r\n              alt=\"animal thumbnail\"\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Carousel;\r\n","import React from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.getElementById(\"modal\");\r\n\r\nclass Modal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.el = document.createElement(\"div\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    modalRoot.appendChild(this.el);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    modalRoot.removeChild(this.el);\r\n  }\r\n\r\n  render() {\r\n    return createPortal(this.props.children, this.el);\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport pf from \"petfinder-client\";\r\nimport Carousel from \"./Carousel\";\r\nimport Modal from \"./Modal\";\r\n\r\nconst petfinder = pf({\r\n  key: process.env.API_KEY,\r\n  secret: process.env.API_SECRET\r\n});\r\n\r\nclass Details extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n\r\n    this.state = {\r\n      loading: true,\r\n      showModal: false\r\n    };\r\n  }\r\n  toggleModal() {\r\n    this.setState({ showModal: !this.state.showModal });\r\n  }\r\n\r\n  componentDidMount() {\r\n    petfinder.pet\r\n      .get({\r\n        output: \"full\",\r\n        id: this.props.id\r\n      })\r\n      .then(data => {\r\n        let breed;\r\n        if (Array.isArray(data.petfinder.pet.breeds.breed)) {\r\n          breed = data.petfinder.pet.breeds.breed.join(\", \");\r\n        } else {\r\n          breed = data.petfinder.pet.breeds.breed;\r\n        }\r\n        this.setState({\r\n          name: data.petfinder.pet.name,\r\n          animal: data.petfinder.pet.animal,\r\n          location: `${data.petfinder.pet.contact.city}, ${\r\n            data.petfinder.pet.contact.state\r\n          }`,\r\n          description: data.petfinder.pet.description,\r\n          media: data.petfinder.pet.media,\r\n          breed,\r\n          loading: false\r\n        });\r\n      })\r\n      .catch(err => this.setState({ error: err }));\r\n  }\r\n  render() {\r\n    if (this.state.loading) {\r\n      return <h1>loading … </h1>;\r\n    }\r\n\r\n    const {\r\n      name,\r\n      animal,\r\n      breed,\r\n      location,\r\n      description,\r\n      media,\r\n      showModal\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className=\"details\">\r\n        <Carousel media={media} />\r\n        <div>\r\n          <h1>{name}</h1>\r\n          <h2>{`${animal} — ${breed} — ${location}`}</h2>\r\n          <button onClick={this.toggleModal}>Adopt {name}</button>\r\n          <p>{description}</p>\r\n          {showModal ? (\r\n            <Modal>\r\n              <h1>Would you like to adopt {name}?</h1>\r\n              <div className=\"buttons\">\r\n                <button onClick={this.toggleModal}>Yes</button>\r\n                <button onClick={this.toggleModal}>No</button>\r\n              </div>\r\n            </Modal>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Details;\r\n"]}